!function o(e,i,t){function a(r,d){if(!i[r]){if(!e[r]){var s="function"==typeof require&&require;if(!d&&s)return s(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+r+"'")}var p=i[r]={exports:{}};e[r][0].call(p.exports,function(o){var i=e[r][1][o];return a(i?i:o)},p,p.exports,o,e,i,t)}return i[r].exports}for(var n="function"==typeof require&&require,r=0;r<t.length;r++)a(t[r]);return a}({1:[function(o,e,i){(function(o){var e="undefined"!=typeof window?window.jQuery:"undefined"!=typeof o?o.jQuery:null;e(function(){if(e("ul.nav li").click(function(){e(this).hasClass("active")||(e("ul.nav li").removeClass("active"),e(this).addClass("active"))}),e(".upload-section-container").length){var o=new Dropzone("#dracobit_dropzone_1",{url:Dracobit.options.apiUrl+"/media",maxFilesize:500,previewsContainer:"#dracobit_dropzone_preview_1",thumbnailWidth:400,thumbnailHeight:400,autoProcessQueue:!1,uploadMultiple:!1,clickable:["#dracobit_dropzone_1","#dracobit_dropzone_1 i","#dracobit_dropzone_1 p","#dracobit_dropzone_1_contents"],init:function(){this.on("addedfile",function(o){e("#dracobit_dropzone_1").hide(),e(".dracobit_dropzone_preview[data-id=1]").show(),e("#remove-buttons").show()}),this.on("removedfile",function(o){e("#remove-buttons").hide(),e(".dracobit_dropzone_preview[data-id=1]").hide(),e("#dracobit_dropzone_1").hasClass("drag-hover")&&(e("i[data-id=1]").css("display","block"),e("p[data-id=1]").text("Add a Primary Photo"),e("#dracobit_dropzone_1").removeClass("drag-hover")),i.files.length?e("#dracobit_dropzone_preview[data-id=1]").show():e("#dracobit_dropzone_1").show()}),this.on("dragover",function(o){"none"===e("#dracobit_dropzone_preview_1").css("display")&&(e("i[data-id=1]").css("display","none"),e("p[data-id=1]").text("Move Photo Here"),e("#dracobit_dropzone_1").addClass("drag-hover"))}),this.on("dragleave",function(o){"none"===e("#dracobit_dropzone_preview_1").css("display")&&(e("i[data-id=1]").css("display","block"),e("p[data-id=1]").text("Add a Primary Photo"),e("#dracobit_dropzone_1").removeClass("drag-hover"))})}}),i=new Dropzone("#dracobit_dropzone_preview_1",{url:Dracobit.options.apiUrl+"/media",maxFilesize:500,previewsContainer:"#dracobit_dropzone_preview_1",thumbnailWidth:400,thumbnailHeight:400,autoProcessQueue:!1,uploadMultiple:!1,clickable:!1,init:function(){this.on("addedfile",function(o){e("#dracobit_dropzone_1").hide(),e(".dracobit_dropzone_preview[data-id=1]").show(),e("#remove-buttons").show()}),this.on("removedfile",function(o){e("#remove-buttons").hide(),e(".dracobit_dropzone_preview[data-id=1]").hide(),e("#dracobit_dropzone_1").hasClass("drag-hover")&&(e("i[data-id=1]").css("display","block"),e("p[data-id=1]").text("Add a Primary Photo"),e("#dracobit_dropzone_1").removeClass("drag-hover")),e("#dracobit_dropzone_1").show()}),this.on("drop",function(t){"edit"==e("#dracobit_dropzone_preview_1").data("type")?e("#dracobit_dropzone_preview_1 .dz-preview").remove():(o.files.length&&o.removeAllFiles(),i.files.length&&i.removeAllFiles())})}});e(".upload-submit").click(function(){e(window).scrollTop(0),e(".upload-form").hide(),e(".upload-message-container").show();var t=e(".upload-chapter-title").val(),a=e(".upload-chapter-content").val(),n=e(".upload-chapter-tagline").val(),r=e(".upload-chapter-version").val(),d=e("select[name=upload-chapter-tutorial] option:selected").val(),s=e(".upload-chapter-short-description").val(),p=e(".upload-chapter-keywords").val();if(t){p=p.split(",").map(function(o){return o.trim()}),content={title:t,content_raw:a,tagline:n,version:r,tutorial:d,short_description:s,keywords:p},console.log(content);var c=new FormData,l="";o.files.length?(c.append("file",o.files[0]),l=o.files[0].name):i.files.length&&(c.append("file",i.files[0]),l=i.files[0].name),""!==l?e.ajax({url:Dracobit.options.apiUrl+"/media",type:"post",data:c,headers:{"Content-Disposition":"attachment; filename="+l,"X-WP-Nonce":Dracobit.options.nonce},cache:!1,contentType:!1,async:!1,processData:!1}).then(function(o){e(".progress-bar-striped").css("width","50%"),content.image=o.ID,e.ajax({type:"post",url:Dracobit.options.apiUrl+"/chapter",headers:{"X-WP-Nonce":Dracobit.options.nonce},data:content}).then(function(o){e(".progress-bar-striped").css("width","100%"),window.location.replace("/profile")})}):(e(".upload-message").html("There was a problem with the submission. Please enter a title."),e(".upload-message-container").show())}else e(".upload-message").html('There was a problem with the submission. <span style="font-weight: 500; color: #d9534f;">Please enter a title.</span>'),e(".progress-bar-striped").css({width:"50%","background-color":"#d9534f"}),e(".upload-message-container").show(),e(".upload-form").show()})}e("#remove-buttons").on("click",".dracobit_dropzone_delete",function(){$data=e(this).data("type"),"edit"==$data?(e("#dracobit_dropzone_preview_1 .dz-preview").remove(),e("#edit-image").attr("src",""),e("#dracobit_dropzone_preview_1").hide(),e("#dracobit_dropzone_1").show()):(o.files.length?$dropzone=o:i?$dropzone=i:alert("there is no image to delete"),$dropzone.removeAllFiles())}),e(".dracobit-login-submit").click(function(){var o=e("input[name=dracobit-login-username]").val(),i=e("input[name=dracobit-login-password]").val(),t=e("input[name=dracobit-login-nonce]").val();e.ajax({type:"post",url:Dracobit.options.apiUrl+"/login",headers:{"X-WP-Nonce":Dracobit.options.nonce},data:{dracobit_login_username:o,dracobit_login_password:i,dracobit_login_nonce:t}}).then(function(o){console.log(o),o.errors.length||window.location.replace("/profile")})}),e(".dracobit-signup-submit").click(function(){var o=e("input[name=dracobit-signup-username]").val(),i=e("input[name=dracobit-signup-password]").val(),t=e("input[name=dracobit-signup-email]").val(),a=e("input[name=dracobit-signup-firstname]").val(),n=e("input[name=dracobit-signup-lastname]").val(),r=e("input[name=dracobit-signup-password-confirm]").val(),d=e("input[name=dracobit-signup-nonce]").val();e.ajax({type:"post",url:Dracobit.options.apiUrl+"/signup",headers:{"X-WP-Nonce":Dracobit.options.nonce},data:{dracobit_signup_username:o,dracobit_signup_password:i,dracobit_signup_email:t,dracobit_signup_firstname:a,dracobit_signup_lastname:n,dracobit_signup_password_confirm:r,dracobit_signup_nonce:d}}).then(function(o){o.errors.length?(e(".dracobit-signup-errors").show(),e.each(o.errors,function(o,i){e(".dracobit-signup-errors").append("<li>"+(o+1)+" : "+i+"</li>")})):window.location.replace("/profile")})}),e(".dracobit-logout-submit").click(function(){e.ajax({type:"post",url:Dracobit.options.apiUrl+"/logout",headers:{"X-WP-Nonce":Dracobit.options.nonce}}).then(function(o){window.location.replace("/")})})})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);